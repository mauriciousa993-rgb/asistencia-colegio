# ğŸ”— GuÃ­a de URLs - QuÃ© va en cada lugar

## ğŸ“‹ Resumen Visual

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MONGODB ATLAS (Ya configurado)                              â”‚
â”‚  mongodb+srv://asistencia:reyes123@asistenciacolegio...      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RENDER (Backend)                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Variables de Entorno:                                â”‚   â”‚
â”‚  â”‚                                                       â”‚   â”‚
â”‚  â”‚  MONGODB_URI=mongodb+srv://asistencia:reyes123...    â”‚   â”‚
â”‚  â”‚  JWT_SECRET=secreto_super_seguro...                   â”‚   â”‚
â”‚  â”‚  PORT=10000                                           â”‚   â”‚
â”‚  â”‚  NODE_ENV=production                                  â”‚   â”‚
â”‚  â”‚  FRONTEND_URL=https://asistencia-colegio.vercel.app  â”‚   â”‚  â—„â”€â”€ URL de Vercel
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                              â”‚
â”‚                              â–¼                              â”‚
â”‚  URL del Backend: https://asistencia-colegio-backend.onrender.com
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VERCEL (Frontend)                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Variables de Entorno:                                â”‚   â”‚
â”‚  â”‚                                                       â”‚   â”‚
â”‚  â”‚  API_URL=https://asistencia-colegio-backend.onrender.com/api  â”‚  â—„â”€â”€ URL de Render + /api
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                              â”‚
â”‚                              â–¼                              â”‚
â”‚  URL del Frontend: https://asistencia-colegio.vercel.app   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ ConfiguraciÃ³n Paso a Paso

### 1ï¸âƒ£ RENDER (Backend) - Variables de Entorno

Ve a tu servicio en Render â†’ Environment â†’ Add Environment Variable

| Variable | Valor |
|----------|-------|
| `NODE_ENV` | `production` |
| `PORT` | `10000` |
| `JWT_SECRET` | `secreto_super_seguro_asistencia_colegio_2024_reyes_catolicos` |
| `MONGODB_URI` | `mongodb+srv://asistencia:reyes123@asistenciacolegio.nar4uuf.mongodb.net/asistencia-colegio?retryWrites=true&w=majority` |
| `FRONTEND_URL` | `https://asistencia-colegio.vercel.app` |

**âš ï¸ Nota sobre FRONTEND_URL**: 
- Inicialmente puedes poner `*` (comodÃ­n) para permitir cualquier origen
- DespuÃ©s de desplegar en Vercel, actualiza con la URL real de tu frontend
- **No olvides el `https://` y no pongas barra al final**

---

### 2ï¸âƒ£ VERCEL (Frontend) - Variables de Entorno

Ve a tu proyecto en Vercel â†’ Settings â†’ Environment Variables

| Variable | Valor |
|----------|-------|
| `API_URL` | `https://asistencia-colegio-backend.onrender.com/api` |

**âš ï¸ Importante**: 
- La URL debe terminar en `/api`
- Usa la URL que te da Render (aparece en la parte superior del dashboard)
- Ejemplo: `https://asistencia-colegio-backend.onrender.com/api`

---

## ğŸ” Ejemplo Completo

### Escenario:
- Tu backend en Render: `https://asistencia-colegio-backend.onrender.com`
- Tu frontend en Vercel: `https://asistencia-colegio.vercel.app`

### ConfiguraciÃ³n en RENDER:
```
FRONTEND_URL=https://asistencia-colegio.vercel.app
```

### ConfiguraciÃ³n en VERCEL:
```
API_URL=https://asistencia-colegio-backend.onrender.com/api
```

---

## âœ… Checklist de VerificaciÃ³n

DespuÃ©s de desplegar, verifica:

1. **Backend funcionando**: 
   - Visita `https://tu-backend.onrender.com/api/login`
   - DeberÃ­as ver: `{"error":"Usuario y contraseÃ±a requeridos"}`

2. **Frontend conectado**:
   - Abre `https://tu-frontend.vercel.app`
   - Intenta hacer login con: `admin` / `admin123`
   - Si funciona, Â¡todo estÃ¡ correcto!

3. **Sin errores de CORS**:
   - Abre la consola del navegador (F12)
   - No deberÃ­as ver errores rojos de CORS

---

## ğŸ†˜ Si algo falla

### Error de CORS (rojo en consola):
1. Ve a Render â†’ tu servicio â†’ Environment
2. Verifica que `FRONTEND_URL` sea EXACTAMENTE igual a tu URL de Vercel
3. Guarda cambios y espera a que se reinicie (1-2 minutos)

### Frontend no conecta:
1. Verifica que `API_URL` en Vercel termine en `/api`
2. Verifica que la URL del backend sea correcta
3. Redespliega el frontend en Vercel si cambiaste la variable

---

## ğŸ“ Resumen de URLs

| Servicio | URL de Ejemplo | Variable |
|----------|---------------|----------|
| MongoDB | `mongodb+srv://...` | `MONGODB_URI` en Render |
| Backend | `https://asistencia-colegio-backend.onrender.com` | `API_URL` en Vercel (agregar `/api`) |
| Frontend | `https://asistencia-colegio.vercel.app` | `FRONTEND_URL` en Render |

**Â¿Tienes alguna duda especÃ­fica sobre quÃ© URL va en algÃºn lugar?**
